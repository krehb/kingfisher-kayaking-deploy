{"ast":null,"code":"var Writable = require('readable-stream/writable');\n\nvar Readable = require('readable-stream/readable');\n\nvar Duplex = require('readable-stream/duplex');\n\nvar DUMMY = new Buffer(0);\n\nvar noop = function () {};\n\nvar toFunction = function (fn) {\n  if (typeof fn === 'function') return fn;\n  return function (cb) {\n    cb(null, fn);\n  };\n};\n\nvar onreadable = function (rs, init) {\n  var reading = false;\n  var destroyed = false;\n\n  rs._read = function () {\n    reading = true;\n  };\n\n  rs.destroy = function () {\n    destroyed = true;\n  };\n\n  init(function (err, source) {\n    if (err) return rs.emit('error', err);\n\n    var fwd = function () {\n      var data;\n\n      while ((data = source.read()) !== null) {\n        reading = false;\n        rs.push(data);\n      }\n    };\n\n    source.on('readable', function () {\n      if (reading) fwd();\n    });\n    source.on('end', function () {\n      fwd();\n      rs.push(null);\n    });\n    source.on('error', function (err) {\n      rs.emit('error', err);\n    });\n    source.on('close', function () {\n      fwd();\n      process.nextTick(function () {\n        rs.emit('close');\n      });\n    });\n\n    rs._read = function () {\n      reading = true;\n      fwd();\n    };\n\n    rs.destroy = function () {\n      if (destroyed) return;\n      destroyed = true;\n      if (source.destroy) source.destroy();\n    };\n\n    if (destroyed) {\n      destroyed = false;\n      rs.destroy();\n      return;\n    }\n\n    if (reading) fwd();\n  });\n  return rs;\n};\n\nvar onwritable = function (ws, init) {\n  var ready = noop;\n  var destroyed = false;\n\n  ws._write = function (data, enc, cb) {\n    ready = cb;\n  };\n\n  ws.destroy = function () {\n    destroyed = true;\n  };\n\n  ws.write(DUMMY);\n  init(function (err, source) {\n    if (err) return ws.emit('error', err);\n    source.on('close', function () {\n      ws.emit('close');\n    });\n    source.on('error', function (err) {\n      ws.emit('error', err);\n    });\n\n    ws._write = function (data, enc, cb) {\n      if (data === DUMMY) return cb();\n      source.write(data, enc, cb);\n    };\n\n    var emit = ws.emit;\n    source.on('finish', function () {\n      emit.call(ws, 'finish');\n    });\n\n    ws.destroy = function () {\n      if (destroyed) return;\n      destroyed = true;\n      if (source.destroy) source.destroy();\n    };\n\n    ws.emit = function (name) {\n      if (name !== 'finish') return emit.apply(ws, arguments);\n      source.end();\n    };\n\n    if (destroyed) {\n      destroyed = false;\n      ws.destroy();\n      return;\n    }\n\n    ready();\n  });\n  return ws;\n};\n\nexports.readable = function (opts, init) {\n  if (arguments.length === 1) return exports.readable(null, opts);\n  if (!opts) opts = {};\n  return onreadable(new Readable(opts), toFunction(init));\n};\n\nexports.writable = function (opts, init) {\n  if (arguments.length === 1) return exports.writable(null, opts);\n  if (!opts) opts = {};\n  return onwritable(new Writable(opts), toFunction(init));\n};\n\nexports.duplex = function (opts, initWritable, initReadable) {\n  if (arguments.length === 2) return exports.duplex(null, opts, initWritable);\n  if (!opts) opts = {};\n  var dupl = new Duplex(opts);\n  onwritable(dupl, toFunction(initWritable));\n  onreadable(dupl, toFunction(initReadable));\n  return dupl;\n};","map":{"version":3,"sources":["C:/Users/jdk17/Desktop/KingFisher/kingfisher-kayaking/node_modules/fwd-stream/index.js"],"names":["Writable","require","Readable","Duplex","DUMMY","Buffer","noop","toFunction","fn","cb","onreadable","rs","init","reading","destroyed","_read","destroy","err","source","emit","fwd","data","read","push","on","process","nextTick","onwritable","ws","ready","_write","enc","write","call","name","apply","arguments","end","exports","readable","opts","length","writable","duplex","initWritable","initReadable","dupl"],"mappings":"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","sourcesContent":["var Writable = require('readable-stream/writable');\nvar Readable = require('readable-stream/readable');\nvar Duplex = require('readable-stream/duplex');\n\nvar DUMMY = new Buffer(0);\nvar noop = function() {};\n\nvar toFunction = function(fn) {\n\tif (typeof fn === 'function') return fn;\n\treturn function(cb) {\n\t\tcb(null, fn);\n\t};\n};\n\nvar onreadable = function(rs, init) {\n\tvar reading = false;\n\tvar destroyed = false;\n\n\trs._read = function() {\n\t\treading = true;\n\t};\n\n\trs.destroy = function() {\n\t\tdestroyed = true;\n\t};\n\n\tinit(function(err, source) {\n\t\tif (err) return rs.emit('error', err);\n\n\t\tvar fwd = function() {\n\t\t\tvar data;\n\t\t\twhile ((data = source.read()) !== null) {\n\t\t\t\treading = false;\n\t\t\t\trs.push(data);\n\t\t\t}\n\t\t};\n\n\t\tsource.on('readable', function() {\n\t\t\tif (reading) fwd();\n\t\t});\n\n\t\tsource.on('end', function() {\n\t\t\tfwd();\n\t\t\trs.push(null);\n\t\t});\n\n\t\tsource.on('error', function(err) {\n\t\t\trs.emit('error', err);\n\t\t});\n\n\t\tsource.on('close', function() {\n\t\t\tfwd();\n\t\t\tprocess.nextTick(function() {\n\t\t\t\trs.emit('close');\n\t\t\t});\n\t\t});\n\n\t\trs._read = function() {\n\t\t\treading = true;\n\t\t\tfwd();\n\t\t};\n\n\t\trs.destroy = function() {\n\t\t\tif (destroyed) return;\n\t\t\tdestroyed = true;\n\t\t\tif (source.destroy) source.destroy();\n\t\t};\n\n\t\tif (destroyed) {\n\t\t\tdestroyed = false;\n\t\t\trs.destroy();\n\t\t\treturn;\n\t\t}\n\n\t\tif (reading) fwd();\n\t});\n\n\treturn rs;\n};\n\nvar onwritable = function(ws, init) {\n\tvar ready = noop;\n\tvar destroyed = false;\n\n\tws._write = function(data, enc, cb) {\n\t\tready = cb;\n\t};\n\n\tws.destroy = function() {\n\t\tdestroyed = true;\n\t};\n\n\tws.write(DUMMY);\n\n\tinit(function(err, source) {\n\t\tif (err) return ws.emit('error', err);\n\n\t\tsource.on('close', function() {\n\t\t\tws.emit('close');\n\t\t});\n\n\t\tsource.on('error', function(err) {\n\t\t\tws.emit('error', err);\n\t\t});\n\n\t\tws._write = function(data, enc, cb) {\n\t\t\tif (data === DUMMY) return cb();\n\t\t\tsource.write(data, enc, cb);\n\t\t};\n\n\t\tvar emit = ws.emit;\n\n\t\tsource.on('finish', function() {\n\t\t\temit.call(ws, 'finish');\n\t\t});\n\n\t\tws.destroy = function() {\n\t\t\tif (destroyed) return;\n\t\t\tdestroyed = true;\n\t\t\tif (source.destroy) source.destroy();\n\t\t};\n\n\t\tws.emit = function(name) {\n\t\t\tif (name !== 'finish') return emit.apply(ws, arguments);\n\t\t\tsource.end();\n\t\t};\n\n\t\tif (destroyed) {\n\t\t\tdestroyed = false;\n\t\t\tws.destroy();\n\t\t\treturn;\n\t\t}\n\n\t\tready();\n\t});\n\n\treturn ws;\n};\n\nexports.readable = function(opts, init) {\n\tif (arguments.length === 1) return exports.readable(null, opts);\n\tif (!opts) opts = {};\n\treturn onreadable(new Readable(opts), toFunction(init));\n};\n\nexports.writable = function(opts, init) {\n\tif (arguments.length === 1) return exports.writable(null, opts);\n\tif (!opts) opts = {};\n\treturn onwritable(new Writable(opts), toFunction(init));\n};\n\nexports.duplex = function(opts, initWritable, initReadable) {\n\tif (arguments.length === 2) return exports.duplex(null, opts, initWritable);\n\tif (!opts) opts = {};\n\tvar dupl = new Duplex(opts);\n\tonwritable(dupl, toFunction(initWritable));\n\tonreadable(dupl, toFunction(initReadable));\n\treturn dupl;\n};"]},"metadata":{},"sourceType":"script"}