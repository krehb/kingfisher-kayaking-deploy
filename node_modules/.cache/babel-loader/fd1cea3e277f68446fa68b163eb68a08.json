{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\jdk17\\\\Desktop\\\\KingFisher\\\\kingfisher-kayaking\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:\\\\Users\\\\jdk17\\\\Desktop\\\\KingFisher\\\\kingfisher-kayaking\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Container,Row,Col}from'react-bootstrap';import firebase from'firebase';import'./routes.css';import NewRoute from'./newRouteCard';function Routes(_ref){var showRoutes=_ref.showRoutes,setRoute=_ref.setRoute,waterLevel=_ref.waterLevel;//firebase requirements\nvar database=firebase.database();var ref=database.ref('routes');var _useState=useState([]),_useState2=_slicedToArray(_useState,2),routesList=_useState2[0],setRoutes=_useState2[1];//getting routes list data\nuseEffect(function(){ref.on('value',gotDataHandler,errDataHandler);},[]);var gotDataHandler=function gotDataHandler(data){var dataRoutes=data.val();var keys=Object.keys(dataRoutes);var _loop=function _loop(i){var k=keys[i];var list=dataRoutes[k];setRoutes(function(routesList){return[].concat(_toConsumableArray(routesList),[list]);});};for(var i=0;i<keys.length;i++){_loop(i);}};var errDataHandler=function errDataHandler(err){console.log('Error!');console.log(err);};var routes=null;if(showRoutes){routes=/*#__PURE__*/React.createElement(Container,{className:\"myRoutes\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"h1\",{className:\"heading\"},\"BOOK ROUTE\"))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"ul\",null,routesList.map(function(route){return/*#__PURE__*/React.createElement(NewRoute,{subtitle:route.subtitle,waterLevelSetting:waterLevel,key:route.name,setRoute:setRoute,title:route.name,cost:route.cost,duration:route.duration,waterLevel:route.site,pic:route.img});}))));}else{routes=null;};return/*#__PURE__*/React.createElement(\"div\",null,routes);}export default Routes;","map":{"version":3,"sources":["C:/Users/jdk17/Desktop/KingFisher/kingfisher-kayaking/src/Componets/routes/routes.js"],"names":["React","useState","useEffect","Container","Row","Col","firebase","NewRoute","Routes","showRoutes","setRoute","waterLevel","database","ref","routesList","setRoutes","on","gotDataHandler","errDataHandler","data","dataRoutes","val","keys","Object","i","k","list","length","err","console","log","routes","map","route","subtitle","name","cost","duration","site","img"],"mappings":"oXAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,OAASC,SAAT,CAAoBC,GAApB,CAAyBC,GAAzB,KAAmC,iBAAnC,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CACA,MAAO,cAAP,CACA,MAAOC,CAAAA,QAAP,KAAqB,gBAArB,CAGA,QAASC,CAAAA,MAAT,MAAoD,IAAnCC,CAAAA,UAAmC,MAAnCA,UAAmC,CAAvBC,QAAuB,MAAvBA,QAAuB,CAAbC,UAAa,MAAbA,UAAa,CAEhD;AACA,GAAMC,CAAAA,QAAQ,CAAGN,QAAQ,CAACM,QAAT,EAAjB,CACA,GAAMC,CAAAA,GAAG,CAAGD,QAAQ,CAACC,GAAT,CAAa,QAAb,CAAZ,CAJgD,cAMhBZ,QAAQ,CAAC,EAAD,CANQ,wCAMzCa,UANyC,eAM7BC,SAN6B,eAShD;AACAb,SAAS,CAAC,UAAM,CACZW,GAAG,CAACG,EAAJ,CAAO,OAAP,CAAgBC,cAAhB,CAAgCC,cAAhC,EACH,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMD,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACE,IAAD,CAAU,CAC7B,GAAMC,CAAAA,UAAU,CAAGD,IAAI,CAACE,GAAL,EAAnB,CAEA,GAAMC,CAAAA,IAAI,CAAGC,MAAM,CAACD,IAAP,CAAYF,UAAZ,CAAb,CAH6B,yBAIpBI,CAJoB,EAK3B,GAAIC,CAAAA,CAAC,CAAGH,IAAI,CAACE,CAAD,CAAZ,CACA,GAAME,CAAAA,IAAI,CAAGN,UAAU,CAACK,CAAD,CAAvB,CACAV,SAAS,CAAC,SAAAD,UAAU,qCAAQA,UAAR,GAAoBY,IAApB,IAAX,CAAT,CAP2B,EAI7B,IAAK,GAAIF,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGF,IAAI,CAACK,MAAzB,CAAiCH,CAAC,EAAlC,CAAsC,OAA7BA,CAA6B,EAIrC,CAEJ,CAVD,CAWA,GAAMN,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACU,GAAD,CAAS,CAC5BC,OAAO,CAACC,GAAR,CAAY,QAAZ,EACAD,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CAHD,CAMA,GAAIG,CAAAA,MAAM,CAAG,IAAb,CACA,GAAItB,UAAJ,CAAe,CACXsB,MAAM,cACN,oBAAC,SAAD,EAAW,SAAS,CAAC,UAArB,eACQ,oBAAC,GAAD,mBACI,oBAAC,GAAD,mBACI,0BAAI,SAAS,CAAC,SAAd,eADJ,CADJ,CADR,cAMQ,oBAAC,GAAD,mBACI,8BACKjB,UAAU,CAACkB,GAAX,CAAe,SAAAC,KAAK,CAAG,CACpB,mBAAO,oBAAC,QAAD,EAAW,QAAQ,CAAEA,KAAK,CAACC,QAA3B,CAAsC,iBAAiB,CAAEvB,UAAzD,CAAqE,GAAG,CAAEsB,KAAK,CAACE,IAAhF,CAAsF,QAAQ,CAAEzB,QAAhG,CAA0G,KAAK,CAAEuB,KAAK,CAACE,IAAvH,CAA6H,IAAI,CAAEF,KAAK,CAACG,IAAzI,CAA+I,QAAQ,CAAEH,KAAK,CAACI,QAA/J,CAAyK,UAAU,CAAEJ,KAAK,CAACK,IAA3L,CAAiM,GAAG,CAAEL,KAAK,CAACM,GAA5M,EAAP,CACH,CAFA,CADL,CADJ,CANR,CADA,CAeH,CAhBD,IAgBO,CAAER,MAAM,CAAG,IAAT,CAAe,EAKxB,mBACI,+BACKA,MADL,CADJ,CAKH,CAED,cAAevB,CAAAA,MAAf","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport { Container, Row, Col} from 'react-bootstrap';\r\nimport firebase from 'firebase';\r\nimport './routes.css';\r\nimport NewRoute from './newRouteCard';\r\n\r\n\r\nfunction Routes({showRoutes, setRoute, waterLevel}) {\r\n\r\n    //firebase requirements\r\n    const database = firebase.database();\r\n    const ref = database.ref('routes');\r\n\r\n    const [routesList, setRoutes] = useState([])\r\n\r\n\r\n    //getting routes list data\r\n    useEffect(() => {\r\n        ref.on('value', gotDataHandler, errDataHandler);\r\n    }, [])\r\n\r\n    const gotDataHandler = (data) => {\r\n        const dataRoutes = data.val();\r\n\r\n        const keys = Object.keys(dataRoutes);\r\n        for (let i = 0; i < keys.length; i ++){\r\n          let k = keys[i]\r\n          const list = dataRoutes[k]\r\n          setRoutes(routesList => [...routesList, list])\r\n        }\r\n   \r\n    }\r\n    const errDataHandler = (err) => {\r\n        console.log('Error!')\r\n        console.log(err)\r\n    }\r\n\r\n\r\n    let routes = null\r\n    if (showRoutes){        \r\n        routes = (\r\n        <Container className='myRoutes'>\r\n                <Row >\r\n                    <Col>\r\n                        <h1 className='heading' >BOOK ROUTE</h1>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <ul>\r\n                        {routesList.map(route =>{\r\n                            return <NewRoute  subtitle={route.subtitle}  waterLevelSetting={waterLevel} key={route.name} setRoute={setRoute} title={route.name} cost={route.cost} duration={route.duration} waterLevel={route.site} pic={route.img}  />\r\n                        })}\r\n                    </ul>\r\n                </Row>\r\n        </Container>)\r\n    } else { routes = null };\r\n    \r\n    \r\n    \r\n    \r\n    return (\r\n        <div>\r\n            {routes}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Routes;"]},"metadata":{},"sourceType":"module"}