{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jdk17\\\\Desktop\\\\KingFisher\\\\kingfisher-kayaking\\\\src\\\\Componets\\\\calendar\\\\index.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport './calendar.css';\nimport buildCalendar from './build'; // import dayStyles, {beforeToday} from './styles'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Container, Row, Col } from 'react-bootstrap';\nexport default function Calendar({\n  value,\n  onChange,\n  back,\n  booked\n}) {\n  const [calendar, setCalendar] = useState([]);\n  useEffect(() => {\n    setCalendar(buildCalendar(value));\n  }, [value]);\n\n  function currMonthName() {\n    return value.format('MMMM');\n  }\n\n  function currYear() {\n    return value.format('YYYY');\n  }\n\n  function prevMonth() {\n    return value.clone().subtract(1, 'month');\n  }\n\n  function nextMonth() {\n    return value.clone().add(1, 'month');\n  }\n\n  function thisMonth() {\n    return value.isSame(new Date(), 'month');\n  } //styling\n\n\n  function isSelected(day, value) {\n    return value.isSame(day, 'day');\n  }\n\n  function beforeToday(day) {\n    return day.isBefore(new Date(), 'day');\n  }\n\n  function isToday(day) {\n    return day.isSame(new Date(), 'day');\n  } //styling num of kayaks\n\n\n  function isBooked0(day) {\n    let classes = null;\n    booked.forEach(bookedData => {\n      if (day.isSame(bookedData.date, 'day') && bookedData.numOfKayaks >= 9) {\n        classes = bookedData.date;\n      }\n    });\n    return day.isSame(classes, 'day');\n  }\n\n  function isBooked2(day) {\n    let classes = null;\n    booked.forEach(bookedData => {\n      if (day.isSame(bookedData.date, 'day') && bookedData.numOfKayaks >= 7) {\n        classes = bookedData.date;\n      }\n    });\n    return day.isSame(classes, 'day');\n  }\n\n  function isBooked4(day) {\n    let classes = null;\n    booked.forEach(bookedData => {\n      if (day.isSame(bookedData.date, 'day') && bookedData.numOfKayaks >= 5) {\n        classes = bookedData.date;\n      }\n    });\n    return day.isSame(classes, 'day');\n  }\n\n  function isBooked6(day) {\n    let classes = null;\n    booked.forEach(bookedData => {\n      if (day.isSame(bookedData.date, 'day') && bookedData.numOfKayaks >= 3) {\n        classes = bookedData.date;\n      }\n    });\n    return day.isSame(classes, 'day');\n  }\n\n  function dayStyles(day, value) {\n    if (beforeToday(day)) return 'before';\n    if (isSelected(day, value)) return 'red';\n    if (isToday(day)) return 'today';\n    if (isBooked0(day)) return 'kayaks-0';\n    if (isBooked2(day)) return 'kayaks-2';\n    if (isBooked4(day)) return 'kayaks-4';\n    if (isBooked6(day)) return 'kayaks-6';\n    return '';\n  } // dynamic list option\n\n\n  let mulitpleBookings = [];\n  let selectedMuliBookings = [];\n  let numKayaks = [];\n\n  const reducer = (accumulator, currentValue) => accumulator + currentValue;\n\n  let checkMarker = [];\n  let list = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\n  let selectedKayaks = [];\n  let kayaksOptions = list.map(x => /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 39\n    }\n  }, x));\n  kayaks.forEach(booking => {\n    if (value.isSame(booking.date, 'day')) {\n      checkMarker.push(booking.date);\n\n      if (checkMarker.length > 1) {\n        //for mulitple bookings on single date\n        for (let i = 0; i < booking.numOfKayaks.length; i++) {\n          let obj = JSON.parse(booking.numOfKayaks);\n          mulitpleBookings.push(obj);\n        }\n\n        let sum = mulitpleBookings.reduce(reducer); // console.log(sum-2)\n\n        for (let i = 0; i < sum - 1; i++) {\n          selectedMuliBookings.push(i);\n        }\n\n        kayaksOptions = selectedMuliBookings.map(x => /*#__PURE__*/React.createElement(\"option\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 64\n          }\n        }, x));\n        console.log('selectedMuliBookings');\n        console.log(selectedMuliBookings);\n      } else {\n        //for single datebooked\n        let num = 10 - booking.numOfKayaks;\n        numKayaks.push(booking.numOfKayaks);\n\n        for (let i = 0; i < num; i++) {\n          selectedKayaks.push(i);\n        }\n\n        ;\n        kayaksOptions = selectedKayaks.map(x => /*#__PURE__*/React.createElement(\"option\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 58\n          }\n        }, x));\n        console.log('selectedKayaks');\n        console.log(selectedKayaks);\n      }\n    }\n  });\n  let kayaks = 9;\n  booked.forEach(bookedData => {\n    if (value.isSame(bookedData.date, 'day')) {\n      kayaks = 9 - bookedData.numOfKayaks;\n    }\n  });\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"calendar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"previous\",\n    onClick: () => !thisMonth() && onChange(prevMonth()),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 21\n    }\n  }, !thisMonth() ? String.fromCharCode(171) : null), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"current\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 21\n    }\n  }, currMonthName(), \" \", currYear()), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"next\",\n    onClick: () => {\n      onChange(nextMonth());\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 21\n    }\n  }, String.fromCharCode(187))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"day-names\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 21\n    }\n  }, [\"s\", \"m\", \"t\", \"w\", \"t\", \"f\", \"s\"].map(d => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"week\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 68\n    }\n  }, d))), calendar.map(week => /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 25\n    }\n  }, week.map(day => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"day\",\n    id: day.format(\"D\"),\n    key: day,\n    onClick: () => {\n      !beforeToday(day) && onChange(day); // console.log('clicked', day)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: dayStyles(day, value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 37\n    }\n  }, day.format('D').toString()))))))), /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: back,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: \"arrow-left\",\n    size: \"1x\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 29\n    }\n  }), \" Back\")), /*#__PURE__*/React.createElement(Col, {\n    sm: 7,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"selection-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 29\n    }\n  }, \"Date Selected: \", value.format(\"MM/DD\")), /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"selection-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 29\n    }\n  }, \"Number of Kayaks Avalible: \", kayaks))), /*#__PURE__*/React.createElement(Col, {\n    sm: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    sm: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 21\n    }\n  }))));\n}","map":{"version":3,"sources":["C:/Users/jdk17/Desktop/KingFisher/kingfisher-kayaking/src/Componets/calendar/index.jsx"],"names":["React","useState","useEffect","buildCalendar","FontAwesomeIcon","Container","Row","Col","Calendar","value","onChange","back","booked","calendar","setCalendar","currMonthName","format","currYear","prevMonth","clone","subtract","nextMonth","add","thisMonth","isSame","Date","isSelected","day","beforeToday","isBefore","isToday","isBooked0","classes","forEach","bookedData","date","numOfKayaks","isBooked2","isBooked4","isBooked6","dayStyles","mulitpleBookings","selectedMuliBookings","numKayaks","reducer","accumulator","currentValue","checkMarker","list","selectedKayaks","kayaksOptions","map","x","kayaks","booking","push","length","i","obj","JSON","parse","sum","reduce","console","log","num","String","fromCharCode","d","week","toString"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport './calendar.css';\r\nimport buildCalendar from './build'\r\n// import dayStyles, {beforeToday} from './styles'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\n\r\nexport default function Calendar({value, onChange, back, booked}) {\r\n    const [calendar , setCalendar] = useState([]);\r\n\r\n\r\n    useEffect(() => {\r\n        setCalendar(buildCalendar(value));\r\n    }, [value])\r\n\r\n    function currMonthName() {\r\n        return value.format('MMMM')\r\n    }\r\n\r\n    function currYear() {\r\n        return value.format('YYYY')\r\n    }\r\n\r\n    function prevMonth() {\r\n        return value.clone().subtract(1, 'month')\r\n    }\r\n\r\n    function nextMonth() {\r\n        return value.clone().add(1, 'month')\r\n    }\r\n\r\n    function thisMonth() {\r\n        return value.isSame(new Date(), 'month')\r\n    }\r\n\r\n\r\n\r\n    //styling\r\n    function isSelected(day, value) {\r\n        return value.isSame(day, 'day');\r\n    }\r\n    function beforeToday(day) {\r\n        return day.isBefore(new Date(), 'day');\r\n    }\r\n    function isToday(day) {\r\n        return day.isSame(new Date(), 'day');\r\n    }\r\n\r\n\r\n     \r\n\r\n        //styling num of kayaks\r\n    function isBooked0(day) {\r\n        let classes = null\r\n        booked.forEach(bookedData => {\r\n            if (day.isSame(bookedData.date, 'day') && bookedData.numOfKayaks >= 9 ) {\r\n                classes = bookedData.date\r\n            }\r\n        })\r\n        return day.isSame(classes, 'day')\r\n    }\r\n    function isBooked2(day) {\r\n        let classes = null\r\n        booked.forEach(bookedData => {\r\n            if (day.isSame(bookedData.date, 'day') && bookedData.numOfKayaks >= 7 ) {\r\n                classes = bookedData.date\r\n            }\r\n        })\r\n        return day.isSame(classes, 'day')\r\n    }\r\n    function isBooked4(day) {\r\n        let classes = null\r\n        booked.forEach(bookedData => {\r\n            if (day.isSame(bookedData.date, 'day') && bookedData.numOfKayaks >= 5 ) {\r\n                classes = bookedData.date\r\n            }\r\n        })\r\n        return day.isSame(classes, 'day')\r\n    }\r\n    function isBooked6(day) {\r\n        let classes = null\r\n        booked.forEach(bookedData => {\r\n            if (day.isSame(bookedData.date, 'day') && bookedData.numOfKayaks >= 3 ) {\r\n                classes = bookedData.date\r\n            }\r\n        })\r\n        return day.isSame(classes, 'day')\r\n    }\r\n\r\n\r\n\r\n\r\n    function dayStyles(day, value) {\r\n        if (beforeToday(day)) return 'before'\r\n        if (isSelected(day, value)) return 'red'\r\n        if (isToday(day)) return 'today'\r\n        if (isBooked0(day)) return 'kayaks-0'\r\n        if (isBooked2(day) ) return 'kayaks-2'\r\n        if (isBooked4(day)) return 'kayaks-4'\r\n        if (isBooked6(day)) return 'kayaks-6'\r\n        return ''\r\n    }\r\n\r\n\r\n    // dynamic list option\r\n    let mulitpleBookings = []\r\n    let selectedMuliBookings = []\r\n    let numKayaks = []\r\n    const reducer = (accumulator, currentValue) => accumulator + currentValue;\r\n    let checkMarker = []\r\n    let list = [0,1,2,3,4,5,6,7,8,9]\r\n    let selectedKayaks = []\r\n    let kayaksOptions = list.map(x => <option>{x}</option> )\r\n    kayaks.forEach(booking => {\r\n        if (value.isSame(booking.date, 'day') ) {\r\n\r\n            checkMarker.push(booking.date)\r\n\r\n            if (checkMarker.length > 1){\r\n                //for mulitple bookings on single date\r\n                for (let i = 0; i < booking.numOfKayaks.length; i++){\r\n                    let obj = JSON.parse(booking.numOfKayaks)\r\n                    mulitpleBookings.push(obj)\r\n                }\r\n                let sum = mulitpleBookings.reduce(reducer)\r\n                // console.log(sum-2)\r\n                for (let i = 0; i < sum -1; i++){\r\n                    selectedMuliBookings.push(i)\r\n                }\r\n                kayaksOptions = (selectedMuliBookings.map(x => <option>{x}</option> ))\r\n                console.log('selectedMuliBookings')\r\n                console.log(selectedMuliBookings)\r\n            } else {\r\n            //for single datebooked\r\n                let num = 10 - booking.numOfKayaks\r\n                numKayaks.push(booking.numOfKayaks)\r\n                for (let i = 0; i < num; i++){                \r\n                    selectedKayaks.push(i)\r\n                };\r\n                kayaksOptions = (selectedKayaks.map(x => <option>{x}</option> ))\r\n                console.log('selectedKayaks')\r\n                console.log(selectedKayaks)\r\n            }\r\n        } \r\n    });\r\n\r\n\r\n\r\n    let kayaks = 9\r\n\r\n    booked.forEach(bookedData => {\r\n        if (value.isSame(bookedData.date, 'day')){\r\n            kayaks = (9 - bookedData.numOfKayaks)\r\n        }\r\n    })\r\n\r\n\r\n\r\n    return ( \r\n        <Container>\r\n            <div className='calendar'>\r\n                <div className='header'>\r\n                    <div className='previous' onClick={() => !thisMonth() && onChange(prevMonth())}>\r\n                    {!thisMonth() ? String.fromCharCode(171) : null}</div>\r\n                    <div className='current'>\r\n                        {currMonthName()} {currYear()}\r\n                    </div>\r\n                    <div className='next' onClick={() => {onChange(nextMonth())}}>{String.fromCharCode(187)}</div>\r\n                </div>\r\n                <div className='body'>\r\n                    <div className=\"day-names\">\r\n                        {\r\n                            [\"s\",\"m\",\"t\",\"w\",\"t\",\"f\",\"s\"].map(d => <div className='week'>{d}</div>)\r\n                        }\r\n                    </div>\r\n                    {calendar.map((week) => (\r\n                        <div>\r\n                            {week.map((day) => (\r\n                                <div  className='day' id={day.format(\"D\")} key={day} \r\n                                onClick={() => { !beforeToday(day) && onChange(day)\r\n                                    // console.log('clicked', day)\r\n                                    }}>\r\n                                    <div className={dayStyles(day, value)}>\r\n                                            {day.format('D').toString()}\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n            <Container>\r\n                <Row>\r\n                    <Col sm={2}>\r\n                        <div onClick={back}>\r\n                            <FontAwesomeIcon icon=\"arrow-left\" size=\"1x\" /> Back\r\n                        </div>\r\n                    </Col>\r\n                    <Col  sm={7}>\r\n                        <div>\r\n                            <h6 className='selection-footer' >Date Selected: {value.format(\"MM/DD\")}</h6>\r\n                            <h6 className='selection-footer'>Number of Kayaks Avalible: {kayaks}</h6>\r\n                        </div>\r\n                    </Col>\r\n                    <Col sm={1}></Col>\r\n                    <Col sm={2} >\r\n                        {/* <div onClick={form}>\r\n                        Continue  <FontAwesomeIcon icon=\"arrow-right\"  size=\"1x\" />\r\n                        </div> */}\r\n                    </Col>\r\n                    <Col></Col>\r\n                </Row>\r\n            </Container>\r\n        </Container>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}